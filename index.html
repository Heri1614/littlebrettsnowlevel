<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>LittleBrett Game</title>
  <style>
    /* El body no debe tener márgenes y debe ocupar toda la pantalla */
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden; /* Oculta cualquier scroll */
      height: 100%;
      background-color: black; /* Fondo negro mientras carga */
    }

    /* Canvas que ocupa el 100% del viewport */
    canvas {
      display: block;
      width: 100vw;
      height: 100vh;
    }

    /* Botón centrado con tamaño responsivo */
    #startButton {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 25vw; /* 25% del ancho de la ventana */
      max-width: 300px; /* Máximo 300px */
      z-index: 10;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <!-- Botón para iniciar el juego -->
  <img id="startButton" src="btn_start.png" alt="Start">

  <!-- Área del juego -->
  <canvas id="gameCanvas"></canvas>

  <script>
    const startButton = document.getElementById('startButton');
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');

    // Imágenes del juego
    const bgForest = new Image();
    bgForest.src = 'bg_forest.png';

    const brettIdle = new Image();
    brettIdle.src = 'brett_idle.png';

    let brettX = 400;  // Posición horizontal de LittleBrett
    let brettY = 380;  // Posición vertical (ajustaremos con tamaño dinámico)
    let gameStarted = false;

    // Ajustar el tamaño del canvas al tamaño de la ventana
    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      if (gameStarted) drawGame(); // Redibuja si ya inició
    }

    // Evento al redimensionar pantalla
    window.addEventListener('resize', resizeCanvas);

    // Acción del botón de inicio
    startButton.onclick = () => {
      gameStarted = true;
      startButton.style.display = 'none';
      resizeCanvas(); // Ajustamos antes de dibujar
    };

    // Dibujar el fondo y a Brett
    function drawGame() {
      // Limpiar el canvas
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // Dibujar fondo
      ctx.drawImage(bgForest, 0, 0, canvas.width, canvas.height);

      // Calcular posición de Brett: centrado abajo
      const brettWidth = canvas.width * 0.1; // 10% del ancho
      const brettHeight = brettWidth;
      brettX = canvas.width / 2 - brettWidth / 2;
      brettY = canvas.height - brettHeight - 20; // 20px arriba del borde

      // Dibujar a Brett en posición de espera
      ctx.drawImage(brettIdle, brettX, brettY, brettWidth, brettHeight);
    }
  </script>
</body>
</html>
