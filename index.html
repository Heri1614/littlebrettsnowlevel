<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>LittleBrett Game</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body { width: 100%; height: 100%; background: #000; overflow: hidden; font-family: sans-serif; }
    canvas { display: block; background: #000; }
    #startScreen, #invokeButton {
      position: absolute;
      z-index: 10;
    }
    #startScreen {
      width: 100%; height: 100%; top: 0; left: 0;
      background-color: #000;
      display: flex; justify-content: center; align-items: center;
    }
    #startBtn {
      width: 200px; cursor: pointer;
    }
    #invokeButton {
      display: none;
      bottom: 10px; right: 10px;
      background: red; color: white; border: none;
      padding: 10px 15px; font-size: 16px;
      border-radius: 10px;
    }
  </style>
</head>
<body>
  <div id="startScreen">
    <img id="startBtn" src="btn_start.png" alt="Play Game">
  </div>
  <button id="invokeButton">ðŸ”¥ INVOCAR</button>
  <canvas id="gameCanvas"></canvas>  <script>
    const startBtn = document.getElementById('startBtn');
    const startScreen = document.getElementById('startScreen');
    const invokeButton = document.getElementById('invokeButton');
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    let gameStarted = false;
    let bg = new Image();
    bg.src = 'bg_forest.png';

    let brett = { x: 50, y: canvas.height - 200, w: 80, h: 80, vy: 0, jumping: false };
    let platforms = [];
    let enemies = [];
    let coins = [];
    let gravity = 1;
    let score = 0;
    let canInvoke = false;

    const brettImg = new Image();
    brettImg.src = 'brett_idle.png';

    const enemyImg = new Image();
    enemyImg.src = 'enemy1.png';

    const coinImg = new Image();
    coinImg.src = 'coin.png';

    const tallPlatform = new Image();
    tallPlatform.src = 'Platform_tall.png';

    const smallPlatform = new Image();
    smallPlatform.src = 'Platform_small.png';

    const fireBullImg = new Image();
    fireBullImg.src = 'bull_infernal.png';
    let fireBullX = -200;

    function createPlatforms() {
      for (let i = 0; i < 40; i++) {
        let type = i % 2 === 0 ? tallPlatform : smallPlatform;
        platforms.push({ x: i * 200, y: canvas.height - (i % 2 === 0 ? 100 : 150), img: type });
      }
    }

    function createEnemies() {
      for (let i = 2; i < 40; i += 5) {
        enemies.push({ x: i * 200, y: canvas.height - 180, w: 60, h: 60 });
      }
    }

    function createCoins() {
      for (let i = 1; i < 40; i += 3) {
        coins.push({ x: i * 200 + 40, y: canvas.height - 220, w: 30, h: 30 });
      }
    }

    function draw() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      ctx.drawImage(bg, 0, 0, canvas.width, canvas.height * 0.33);

      platforms.forEach(p => ctx.drawImage(p.img, p.x - scrollX, p.y, 120, 30));
      ctx.drawImage(brettImg, brett.x, brett.y, brett.w, brett.h);
      enemies.forEach(e => ctx.drawImage(enemyImg, e.x - scrollX, e.y, e.w, e.h));
      coins.forEach(c => ctx.drawImage(coinImg, c.x - scrollX, c.y, c.w, c.h));

      if (fireBullX > -200) ctx.drawImage(fireBullImg, fireBullX - scrollX, canvas.height - 180, 100, 100);
    }

    function update() {
      brett.vy += gravity;
      brett.y += brett.vy;
      if (brett.y + brett.h > canvas.height) brett.y = canvas.height - brett.h, brett.jumping = false;

      platforms.forEach(p => {
        if (
          brett.x + brett.w > p.x - scrollX &&
          brett.x < p.x - scrollX + 120 &&
          brett.y + brett.h > p.y &&
          brett.y + brett.h < p.y + 20 &&
          brett.vy >= 0
        ) {
          brett.jumping = false;
          brett.y = p.y - brett.h;
          brett.vy = 0;
        }
      });

      enemies.forEach(e => {
        if (
          brett.x + brett.w > e.x - scrollX &&
          brett.x < e.x - scrollX + e.w &&
          brett.y + brett.h > e.y
        ) {
          gameOver();
        }
      });

      coins.forEach((c, i) => {
        if (
          brett.x + brett.w > c.x - scrollX &&
          brett.x < c.x - scrollX + c.w &&
          brett.y + brett.h > c.y
        ) {
          coins.splice(i, 1);
          score += 10;
          if (score >= 200) canInvoke = true, invokeButton.style.display = 'block';
        }
      });
    }

    function gameOver() {
      alert("Â¡Game Over!");
      location.reload();
    }

    function loop() {
      if (!gameStarted) return;
      update();
      draw();
      scrollX = brett.x - 100;
      requestAnimationFrame(loop);
    }

    let scrollX = 0;
    let keys = {};

    document.addEventListener('keydown', e => keys[e.code] = true);
    document.addEventListener('keyup', e => keys[e.code] = false);

    function controls() {
      if (keys['ArrowRight']) brett.x += 5;
      if (keys['ArrowLeft']) brett.x -= 5;
      if (keys['Space'] && !brett.jumping) brett.vy = -15, brett.jumping = true;
      requestAnimationFrame(controls);
    }

    startBtn.addEventListener('click', () => {
      startScreen.style.display = 'none';
      gameStarted = true;
      createPlatforms();
      createEnemies();
      createCoins();
      loop();
      controls();
    });

    invokeButton.addEventListener('click', () => {
      fireBullX = scrollX + 10;
    });
  </script></body>
</html>
